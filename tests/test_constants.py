import pytest

from stactools.met_office_deterministic.constants import Theme


@pytest.mark.parametrize(
    "parameters,theme",
    (
        (
            (
                "cloud_amount_on_height_levels",
                "temperature_on_height_levels",
                "wind_direction_on_height_levels",
                "wind_speed_on_height_levels",
            ),
            Theme.height,
        ),
        (
            (
                "fog_fraction_at_screen_level",
                "visibility_at_screen_level",
                "pressure_at_mean_sea_level",
                "pressure_at_surface",
                "precipitation_rate",
                "precipitation_accumulation-PT01H",
                "precipitation_accumulation-PT03H",
                "precipitation_accumulation-PT06H",
                "rainfall_accumulation-PT01H",
                "rainfall_accumulation-PT03H",
                "rainfall_accumulation-PT06H",
                "rainfall_rate",
                "rainfall_rate_from_convection",
                "rainfall_rate_from_convection_max-PT01H",
                "rainfall_rate_from_convection_max-PT03H",
                "rainfall_rate_from_convection_max-PT06H",
                "radiation_flux_in_uv_downward_at_surface",
                "radiation_flux_in_longwave_downward_at_surface",
                "radiation_flux_in_shortwave_direct_downward_at_surface",
                "radiation_flux_in_shortwave_total_downward_at_surface",
                "radiation_flux_in_shortwave_diffuse_downward_at_surface",
                "snow_depth_water_equivalent",
                "snowfall_rate",
                "snowfall_accumulation-PT01H",
                "snowfall_accumulation-PT03H",
                "snowfall_rate_from_convection",
                "snowfall_rate_from_convection_mean-PT01H",
                "snowfall_rate_from_convection_mean-PT03H",
                "snowfall_rate_from_convection_mean-PT06H",
                "snowfall_rate_from_convection_max-PT01H",
                "snowfall_rate_from_convection_max-PT03H",
                "snowfall_rate_from_convection_max-PT06H",
                "hail_fall_rate",
                "hail_fall_accumulation-PT01H",
                "height_of_orography",
                "temperature_at_screen_level",
                "temperature_at_surface",
                "temperature_at_screen_level_max-PT01H",
                "temperature_at_screen_level_max-PT03H",
                "temperature_at_screen_level_max-PT06H",
                "temperature_at_screen_level_min-PT01H",
                "temperature_at_screen_level_min-PT03H",
                "temperature_at_screen_level_min-PT06H",
                "temperature_of_dew_point_at_screen_level",
                "wind_direction_at_10m",
                "wind_speed_at_10m",
                "wind_gust_at_10m",
                "wind_gust_at_10m_max-PT01H",
                "wind_gust_at_10m_max-PT03H",
                "wind_gust_at_10m_max-PT06H",
                "sensible_heat_flux_at_surface",
                "latent_heat_flux_at_surface_mean-PT01H",
                "latent_heat_flux_at_surface_mean-PT03H",
                "latent_heat_flux_at_surface_mean-PT06H",
                "relative_humidity_at_screen_level",
                "landsea_mask",
            ),
            Theme.near_surface,
        ),
        (
            (
                "height_ASL_on_pressure_levels",
                "temperature_on_pressure_levels",
                "wet_bulb_potential_temperature_on_pressure_levels",
                "wind_speed_on_pressure_levels",
                "wind_direction_on_pressure_levels",
                "wind_vertical_velocity_on_pressure_levels",
                "relative_humidity_on_pressure_levels",
                "geopotential_height_on_pressure_levels",
            ),
            Theme.pressure_level,
        ),
        (
            (
                "cloud_amount_of_total_cloud",
                "cloud_amount_of_high_cloud",
                "cloud_amount_of_medium_cloud",
                "cloud_amount_of_low_cloud",
                "cloud_amount_below_1000ft_ASL",
                "height_AGL_at_cloud_base_where_cloud_cover_2p5_oktas",
                "cloud_amount_of_total_convective_cloud",
                "pressure_at_tropopause",
                "lightning_flash_accumulation-PT01H",
                "temperature_at_tropopause",
                "CAPE_most_unstable_below_500hPa",
                "CAPE_surface",
                "CAPE_mixed_layer_lowest_500m",
                "CIN_surface",
                "CIN_mixed_layer_lowest_500m",
                "CIN_most_unstable_below_500hPa",
                "height_AGL_at_wet_bulb_freezing_level",
                "height_AGL_at_freezing_level",
            ),
            Theme.whole_atmosphere,
        ),
    ),
)
def test_parameter_to_theme(parameters: list[str], theme: Theme) -> None:
    for parameter in parameters:
        assert Theme.from_parameter(parameter) == theme
